# Spec Coverage Mapping — 2025-11-08

This document maps implemented code and tests to requirements in the specs. It is an interim artifact pending cc-sdd generated outputs.

## Backend API (backend-api/requirements.md)

- Req 1 (Health and Discovery):
  - Implemented in `backend/main.py` (`GET /health`, `GET /`).
- Req 2 (List PoDs):
  - Implemented in `backend/main.py` (`GET /api/pods`) reading `guidance.ttl` and constrained to `docs/pod/`.
- Req 3 (Get PoD by ID):
  - Implemented in `backend/main.py` (`GET /api/pods/{pod_id}`) with `404` handling.
- Req 4 (List Spores):
  - Implemented in `backend/main.py` (`GET /api/spores`).
- Req 5 (Generate PoD via AI):
  - Implemented in `backend/main.py` (`POST /api/pods/generate`) with key check and JSON extraction.
- Req 6 (CORS and Security):
  - Implemented in `backend/main.py` (CORS middleware) and path validation under `docs/pod/`.
- Req 7 (Optional MCP Exposure):
  - Implemented via env `ENABLE_MCP_API`; includes MCP router when enabled.

## MCP Implementation (mcp-implementation/requirements.md)

- Req 1 (Config infrastructure):
  - `.mcp/` directory present with `config.json`, `servers/`, `domain-models/`, `tools/`, `context/`, `traces/`, and schemas.
- Req 2 (Register reasoning services):
  - `/api/mcp/servers` implemented in `backend/mcp/router.py`. Example server defined in `.mcp/servers/example-service.json`.
  - Covered by tests in `backend/tests/mcp/test_router.py::test_mcp_servers_endpoint_lists_configured_servers`.
- Req 3 (Service discovery for orchestrator):
  - Basic discovery data available from `/api/mcp/servers` (includes metadata). Filtering and response-time reporting are TBD.
- Req 7 (Health and performance monitoring):
  - `/api/mcp/health` and `/api/mcp/metrics` implemented in `backend/mcp/router.py`.
  - Covered by tests: `test_mcp_health_reports_status_and_cache_stats`, `test_mcp_metrics_reports_basic_counters`.

## Domain Model Framework (domain-model-framework/requirements.md)

- Req 1–7, 10:
  - Implemented across `backend/domain_model/*` (loader, parser, validator, registry, cache, framework).
  - Unit tests in `backend/tests/domain_model/test_framework.py` cover format detection, parsing, caching, and validation errors.
- Req 8–9 (capability metadata, versioning history):
  - Capability metadata extracted; version history across multiple versions is not yet implemented (partial).

## CI/CD Pipeline (cicd-pipeline/requirements.md)

- Req 1–4, 6–10:
  - Implemented via `scripts/cloudbuild-backend.yaml`, `scripts/cloudbuild-frontend.yaml`, and `scripts/deploy.sh`.
- Req 5 (Determinism):
  - Backed by Dockerfiles; pipeline does not currently run tests pre-deploy (proposal pending).

## Frontend App (frontend-app/requirements.md)

- Req 1–7:
  - Implemented in `frontend/src/App.js`, with Axios-based data fetching, tabs/views, AI PoD generation, and Nginx containerization.

---

Notes:
- Prometheus-compatible exposition for `/api/mcp/metrics` is not yet implemented (currently JSON).
- MCP filtering and per-server latency reporting are identified as gaps for follow-up.


